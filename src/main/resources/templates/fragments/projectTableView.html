<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>project - Table view</title>
  <link rel="icon" type="image/x-icon" href="/imgs/icons8-octaedro-32.png">
</head>
<body>
  <div id="table-view" class="project-view" th:fragment="tableView(tasks)">
    <!-- 테이블 컬럼명 시작 Begin Task List Column Name (table)-->
    <div class="tableview-colName wrapper flex-row-justify-start-align-center bottom-line">
      <div class="tableview-column content-chkbox"><input type="checkbox"></div><!-- 우선순위: 하하하하하하 마지막에 해라 -->
      <div class="tableview-column"></div>
      <div class="tableview-column">할 일</div>
      <div class="tableview-column">담당자</div>
      <div class="tableview-column">진행상태</div>
      <div class="tableview-column">마감일</div>
      <div class="tableview-column">파일</div>
      <div class="tableview-column">작성자</div>
    </div>
    <!-- 테이블 컬럼명 끝 Task List Column Name (table) Ends-->

    <!-- 테이블뷰: 공지row 시작 Begin Notice -->
    <div class="tableview-notice bottom-line">
      <div class="tableview-column content-chkbox"></div><!-- <input type="checkbox"> 추후 결정요망 -->

      <div class="tableview-column flex-row-center-center-nowrap">
        <img src="/imgs/icon_notice(pin).png" alt="notice" class="img-25">
      </div>

      <!-- 공지 제목 notice title -->
      <div class="tableview-column flex-row-justify-start-align-center btn-open-notice" data-id="notice01">
          <span class="table-notice cursorP">
            <mark class="table-notice">달과 6펜스 공통 서식</mark>
          </span>
      </div>

      <!-- 공지 담당자(=작성자) -->
      <div class="tableview-column">
        <span class="">나탈리 포트만</span>
      </div>

      <!-- 공지 확인cnt 시작 -->
      <div class="tableview-column flex-row-center-center-nowrap">
        <div class="flex-col-start-nowrap">
          <div class="font-10 flex-row-justify-start-align-center">
            <div class="status-sign done"></div>
            <span class="status-remark ">확인</span>
            <span class="chk-count altivo-regular ml-3"> 7</span>
          </div><br/>
          <div class="font-10 flex-row-justify-start-align-center">
            <div class="status-sign not-yet"></div>
            <span class="status-remark ">미확인</span>
            <span class="unchk-count altivo-regular ml-3"> 8</span>
          </div>
        </div>
      </div> <!-- 공지 확인cnt 끝 -->

      <!-- due Date -->
      <div class="tableview-column">
      </div>

      <!-- file -->
      <div class="tableview-column flex-row-center-center-nowrap">
        <button type="button" class="add-file flex-row-center-center-nowrap hide"><img src="/imgs/icon_upload(clip).png" alt="add-file" class="img-20"></button><!--img-20 vertical-ctrl05-->
        <button type="button" class="more-file  flex-row-center-center-nowrap"><img src="/imgs/icon_attachment.png" alt="more-file" class="img-20"></button><!--img-20 vertical-ctrl032-->
      </div>

      <!-- 공지 작성자 -->
      <div class="tableview-column">나탈리 포트만</div>
    </div>
    <!-- 테이블뷰: 공지row 끝 Notice Contents Ends -->

    <!-- 테이블뷰: 할 일 목록Row 시작 Begin Task List(table) Contents -->
    <th:block th:each="task : ${tasks}">
      <div class="tableview-taskrow bottom-line ">
        <div class="tableview-column content-chkbox"><input type="checkbox"></div>

        <!-- child mark: create or has-->
        <div class="tableview-column flex-row-center-center-nowrap">
          <img src="/imgs/icon_arrow_closed910.png" alt="has child task" class="ml-3 hide">
          <img src="/imgs/icon_sub.png" alt="create child task" class="img-18 btn-create-child-task">
          <span class="hover-tip-child">세부 항목으로 나누기</span>
        </div>

        <!-- task Name -->
        <div class="tableview-column flex-row-justify-start-align-center table-task-title">
          <span class="table-task-title btn-task-detail" th:text="${task.getTaskTitle()}" th:attr="id=${task.getId()}">물에 빠진 사람에게 수영을 잘하고 못하고는</span> <!--vertical-ctrl015 -->
          <img src="/imgs/icon_comment.png" class="comment img-20" alt="comment">
          <img src="/imgs/icon_nocomment32.png" class="no-comment hide img-20" alt="no comment">
        </div>

        <!-- assignee -->
        <div class="tableview-column table-assignee flex-row-center-center-nowrap"> <!-- vertical-ctrl01 -->
          <span class="no-assignee" th:if="${task.getAssigneeMids().size() == null}">담당자 없음</span>
          <span class="table-assignee-alone" th:text="${task.getAssigneeMids().size() == 1}?${task.getAssigneeNames()[0]}">서머싯 몸</span>
          <th:block th:if="${task.getAssigneeNames().size() > 1}">
            <th:block th:each="assignee : ${task.manyAssigneeFirstName(task.getAssigneeNames())}">
              <div class="assignee-many"><span class="lastName" th:text="${assignee}">김</span></div>
            </th:block>
          </th:block>
        </div>

        <!-- status -->
        <div class="tableview-column flex-row-center-center-nowrap">
          <div class="table-status-sign-noChild" th:if="${task.getTaskParentId() == null}">
            <div class="status-sign" th:classappend="${task.getTaskStatus()}"></div> <!-- vertical-ctrl01 -->
            <span class="status-remark" th:text="${task.switchStatus(task.getTaskStatus())}">진행중</span> <!-- vertical-ctrl01-->
          </div>
          <div class="table-status-sign-hasChild hide">
            <div class="status-sign-hasChild-cntbox not-yet "><!-- vertical-ctrl01-->
              <span class="status-child-count altivo-regular">19</span>
            </div>
            <div class="status-sign-hasChild-cntbox planning "><!-- vertical-ctrl01-->
              <span class="status-child-count altivo-regular">2</span>
            </div>
            <div class="status-sign-hasChild-cntbox ing "> <!-- vertical-ctrl01-->
              <span class="status-child-count font-white altivo-regular">4</span>
            </div>
            <div class="status-sign-hasChild-cntbox review "><!-- vertical-ctrl01-->
              <span class="status-child-count font-white altivo-regular">5</span>
            </div>
            <div class="status-sign-hasChild-cntbox done "><!-- vertical-ctrl01-->
              <span class="status-child-count font-white altivo-regular">3</span>
            </div>
          </div>
        </div>

        <!-- due Date -->
        <div class="tableview-column flex-row-center-center-nowrap">
          <img src="/imgs/icon_overDue.png" alt="overDue" class="img-18 mr-5" th:if="${task.getTaskDueDate() le today} and ${task.getTaskDueDate() != null}"> <!-- vertical-ctrl005 ml_12 -->
          <span class="altivo-regular dueDate" th:text="${task.getTaskDueDate() == null}?'없음':${#temporals.format(task.getTaskDueDate(), 'MM.dd ')}" th:classappend="${task.getTaskDueDate() == null}?'font-blur'">03.29</span><!-- vertical-ctrl_018L -->
          <span class="ml-5 day" th:text="${task.getTaskDueDate() == null}? _:${#temporals.dayOfWeekNameShort(task.getTaskDueDate())}"></span> <!-- vertical-ctrl_018L-->
        </div>

        <!-- file -->
        <div class="tableview-column flex-row-center-center-nowrap">
          <button type="button" class="add-file flex-row-center-center-nowrap"><img src="/imgs/icon_upload(clip).png" alt="add-file" class="img-20"></button><!--  vertical-ctrl015-->
          <button type="button" class="more-file flex-row-center-center-nowrap hide"><img src="/imgs/icon_attachment.png" alt="more-file" class="img-20 vertical-ctrl015"></button>
        </div>

        <!-- author -->
        <div class="tableview-column" th:text="${task.getAuthorName()}">올리초이</div> <!-- vertical-ctrl01-->
      </div><!-- 테이블뷰: 할 일 목록Row 끝 Task List Contents Ends -->
    </th:block>
  </div>
</body>
</html>